---
title: 我的程序员之路（7）——离职2
categories:
  - 我的程序员之路
date: 2013-01-04 20:51:22
tags:
---

又是1月4号，2013年1月4号，我又离职了，在这家公司工作了还不够一年。

2012年2月6日入职这家公司，负责整个iOS移动客户端的开发工作。

第一个项目是红酒的客户端，服务器端是Java写的web服务器，IOS客户端架构方案依然是之前神聊的架构，UIEngine负责各ViewController与底层的数据交互，SDKEngine负责UIEngine与网络层、数据库及配置数据的交互。（1）由于做神聊时只负责界面部分的工作，所以对网络层的设计也进行了一下研究。服务器端是Web服务器，所以是HTTP协议，要么用NSURLConnection，要么用ASIHTTPRequest。ASIHTTPRequest功能太过强大，而需求仅仅是通过url与服务器交互，杀鸡焉用牛刀，所以决定自己封装网络层。比较顺利，基于HTTP协议的网络层可以重用了。（2）另外一个工作，就是客户端数据的增量更新。

第二个项目是基于旧工程的，点餐系统。旧工程是MVC设计方案，也就是目前很多开发者使用的方案，各个ViewController独立访问网络层。这种方案存在的问题不必多说，做做小应用还好，界面越多，越容易出问题。只好重构，但又有新的需求要增加，所以一边在原架构上增加新需求，一边重新架构。

第三个项目是信号检测，另个同事已经开发出一个版本了，新需求是要获取基站信息。基站信息比较麻烦，得调私有方法，这方面资料很少，所以只好自己研究。算是比较顺利吧，iPhone4可以获取到所需的大部分信息，但iPhone4S就获取不到了。查了下资料，好像是苹果使用的基带硬件换厂家了。

第四个项目是手机精灵。架构不必多说，还是成熟的架构方案。（1）客户端给服务器发数据采用HTTP协议，服务器给客户端发数据只好走APNS。（2）网络层下载大文件采用多线程多任务的方式，可以断点序传。

感谢公司给我机会，让我可以用自己的想法完成整个软件设计。感谢一起工作的同事。